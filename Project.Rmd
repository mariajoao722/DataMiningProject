---
title: "Project"
author: "Maria Pais, Mónica Araújo"
date: "2023-11-07"
output:
  html_document:
    number_sections: yes
    theme: flatly  # journal flatly spacelab cosmo
    highlight: tango
    toc : yes
    toc_float:
      collapsed: true
      smoth_scroll: true
  word_document: 
    toc :yes
  pdf_document:
    toc : yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo = TRUE,
  message = FALSE,
  warning = FALSE
)
```

<!-- load packagers -->
<!-- include = false is for Hiding the code and the output in final file-->
```{r, include = FALSE}
library(tidyverse)
library(tidymodels)
library(readr)
library(dplyr)
library(ggplot2)

```

<!-- load the databases -->
```{r, include = FALSE}
# Load or create the loan_dev dataset
loan_dev <- read_delim("loan_dev.csv", delim = ";", 
    escape_double = FALSE, trim_ws = TRUE)

disp <- read_delim("disp.csv", delim = ";", 
    escape_double = FALSE, trim_ws = TRUE)

trans_dev <- read_delim("trans_dev.csv", delim = ";", 
    escape_double = FALSE, trim_ws = TRUE)
```

# Data Understanding Maria

The data understanding phase of CRISP-DM involves taking a closer look at the data available for mining. This step is critical in avoiding unexpected problems during the next phase, data preparation, which is typically the longest part of a project.

Data understanding involves accessing the data and exploring it using tables and graphics. This enables you to determine the quality of the data and describe the results of these steps in the project documentation.


trans_dev account final n interessa, bank, k_symbol posso apagar

na data do loan ver a ultima transação feita e podemos eliminar anteriores

## Data Summarizing

The term Data Summarizing can be defined as the presentation of a summary/report of generated data in a comprehensible and informative manner.Data summarizing is typically numerical, visual or a combination of the two. It is a key skill in data analysis - we use it to provide insights both to others and to ourselves. 


Nesta linha de código vemos o número de empréstimos em que o contrato acabou sem problemas ("1") e aqueles em que o contrato acabou ou o empréstimo ainda não foi pago.

```{r}
loan_dev %>%
     group_by(status) %>%
     count()
```

Para juntar a informação  do estado dos empréstimos com o id do cliente foi preciso dar merge a dois datasets, mas para não juntar colunas desnecessárias primeiro escolhemos as colunas necesárias.

```{r}
selected_columns <- loan_dev %>%
    select(account_id, status)
```

Após selecionar as colunas vamos dar merge do novo dataset criado com o dataset disp.

```{r}
merge_loan_disp <- merge(selected_columns, disp, by = "account_id")
```

## Data Visualizing

Data visualization is the representation of data through use of common graphics, such as charts and plots. These visual displays of information communicate complex data relationships and data-driven insights in a way that is easy to understand.

Mostra a distribuição das transações pelo tipo de operação 

```{r}
ggplot(trans_dev, aes(x = operation)) + geom_bar() + ggtitle("Distribution of transactions across operation") + theme(legend.text = element_text(size = 5))
```



# Data Preparation Mónica
Data cleaning:

- [ ]  Handle missing values;
- [ ]  Duplicate records;
- [ ]  errors in the data;

Data transformation:

- [ ]  Feature engineering;
- [ ]  Scaling
- [ ]  Encoding categorical variables
- [ ]  Date and time parsing
- [ ]  text data processing

Handling Imbalanced Data:

- [ ] Oversampling...;

Data splitting:

- [ ] split data into training and test

## Data quality

### Noise and outliers

??

### Missing values


# Descriptive Modelling Mónica

# Predictive Modelling Maria

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.